<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>3D Print Price Calculator</title>

<!-- Real printer PNG favicon -->
<link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/1048/1048953.png">

<style>
* { box-sizing: border-box; font-family: "Segoe UI", sans-serif; }
body { margin:0; background: radial-gradient(circle at top,#1e1e2f,#0b0b12); color:white; min-height:100vh; display:flex; align-items:center; justify-content:center; }
.card { width:420px; background:#141424; border-radius:18px; padding:25px; box-shadow:0 0 40px rgba(0,0,0,0.6); }
h1 { text-align:center; margin-bottom:20px; }
label { display:block; margin-top:15px; margin-bottom:5px; opacity:0.9; }
input, select { width:100%; padding:12px; border-radius:10px; border:none; outline:none; background:#1f1f33; color:white; }
.buttons { display:flex; flex-wrap:wrap; gap:10px; margin-top:10px; }
.btn { flex:1; padding:10px; border-radius:10px; border:none; background:#22223a; color:white; cursor:pointer; transition:0.2s; }
.btn:hover { background:#34345a; }
.btn.active { background: linear-gradient(135deg, #00f5ff, #0077ff); color:black; font-weight:bold; }
.calculate { width:100%; margin-top:20px; padding:14px; border-radius:12px; border:none; background: linear-gradient(135deg, #ffcc00, #ff8800); font-size:16px; font-weight:bold; cursor:pointer; }
.result { margin-top:20px; text-align:center; font-size:22px; font-weight:bold; min-height:30px; }
.loader { display:none; margin:20px auto; width:40px; height:40px; border:4px solid #333; border-top:4px solid #00f5ff; border-radius:50%; animation: spin 0.8s linear infinite; }
@keyframes spin { 100% { transform: rotate(360deg); } }
</style>
</head>

<body>
<div class="card">
  <h1>3D Print Price</h1>

  <label>Filament weight (grams)</label>
  <input type="number" id="grams" placeholder="e.g. 120">

  <label>Filament type</label>
  <select id="material">
    <option value="0.03">PLA</option>
    <option value="0.0372">PLA+</option>
    <option value="0.04">ABS</option>
    <option value="0.045">PETG</option>
    <option value="0.055">TPU</option>
    <option value="0.06">Carbon Fiber PLA</option>
    <option value="0.07">Nylon</option>
    <option value="0.08">ASA</option>
    <option value="0.09">PC (Polycarbonate)</option>
    <option value="0.1">Metal Filled</option>
  </select>

  <label>Currency</label>
  <div class="buttons" id="currencyBtns">
    <button class="btn active" data-currency="EUR">EUR €</button>
    <button class="btn" data-currency="USD">USD $</button>
  </div>

  <label>Price increase</label>
  <div class="buttons" id="markupBtns">
    <button class="btn active" data-markup="0">0%</button>
    <button class="btn" data-markup="25">25%</button>
    <button class="btn" data-markup="50">50%</button>
    <button class="btn" data-markup="75">75%</button>
    <button class="btn" data-markup="100">100%</button>
    <button class="btn" data-markup="150">150%</button>
    <button class="btn" data-markup="200">200%</button>
  </div>

  <button class="calculate" onclick="calculate()">Calculate</button>

  <div class="loader" id="loader"></div>
  <div class="result" id="result"></div>
</div>

<script>
let selectedMarkup = 0;
let selectedCurrency = "EUR";
const EUR_TO_USD = 1.10; // exchange rate

document.querySelectorAll("#markupBtns .btn").forEach(btn => {
  btn.onclick = () => {
    document.querySelectorAll("#markupBtns .btn").forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    selectedMarkup = Number(btn.dataset.markup);
  };
});

document.querySelectorAll("#currencyBtns .btn").forEach(btn => {
  btn.onclick = () => {
    document.querySelectorAll("#currencyBtns .btn").forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    selectedCurrency = btn.dataset.currency;
  };
});

function calculate() {
  const grams = Number(document.getElementById("grams").value);
  const pricePerGramEUR = Number(document.getElementById("material").value);

  if (!grams || grams <= 0) {
    alert("Enter filament weight");
    return;
  }

  const loader = document.getElementById("loader");
  const result = document.getElementById("result");

  result.innerText = "";
  loader.style.display = "block";

  setTimeout(() => {
    let basePriceEUR = grams * pricePerGramEUR;
    let finalPriceEUR = basePriceEUR * (1 + selectedMarkup / 100);

    let finalPrice, symbol;
    if (selectedCurrency === "USD") {
      finalPrice = finalPriceEUR * EUR_TO_USD;
      symbol = "$";
    } else {
      finalPrice = finalPriceEUR;
      symbol = "€";
    }

    loader.style.display = "none";
    result.innerText = `${finalPrice.toFixed(2)} ${symbol}`;
  }, 500);
}
</script>
</body>
</html>
